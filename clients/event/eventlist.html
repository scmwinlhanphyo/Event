<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./eventlist.css">
    <link rel="stylesheet" type="text/css" href="../slick-1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="../slick-1.8.1/slick/slick-theme.css"/>
    <link rel="stylesheet" type="text/css" href="../css/jquery.dat.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/fontawesome.min.css" />
    <script src="../js/bootstrap.min.js"></script>
    <title>Document</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg shadow-sm bg-light">
        <div class="container">
            <a class="navbar-brand fw-bold" href="../home/home.html">Line Event</a>
            <div class="collapse navbar-collapse justify-content-between">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="../home/home.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" active>Events</a>
                    </li>
                </ul>
                
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="../login/login.html">Logout</a>
                    </li> 
                </ul>
            </div>
        </div>
    </nav>
    <div class="section p-5">
        <div class="btn-gp d-flex justify-content-end mb-3">
            <buton class="btn btn-success">Create Event</buton>
        </div>
        <table id="eventlist_tbl" class="table table-striped table-responsive" style="width:100%">
            <thead class="bg-light">
                <tr>
                    <th>No.</th>
                    <th>Image Name</th>
                    <th class="col-md-3">Event name</th>
                    <th class="col-md-3">Date</th>
                    <th class="col-md-3">Time</th>
                    <th>Status</th>
                    <th>Approved By</th>
                    <th>Created At</th>
                    <th>Updated At</th>
                    <th>Actions</th>
                </tr>
            </thead>
        </table>
    </div>
    <nav class="navbar navbar-expand-lg shadow-sm bg-light w-100 position-fixed bottom-0">
        <div class="container d-flex justify-content-center">
            <small>Copyright &copy; Seattle Consulting Myanmar</small>
        </div>
    </nav>

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="../slick-1.8.1/slick/slick.min.js"></script>
    <script type="text/javascript" src="../js/jquery.dat.min.js"></script>
    <script type="text/javascript" src="../js/moment.min.js"></script>
    <script>
        $(document).ready(function(){
            var URL = 'http://127.0.0.1:8000';
            var eventData = [];
            $.get(URL + '/api/event/list', function (data, status) {
                eventData = data.data;
                console.log(data.data);
                
                $('#eventlist_tbl').DataTable( {
                    data: eventData,
                    columns: [
                        {data : 'id'},
                        {data : 'image'},
                        {data : 'event_name'},
                        {data : 'from_date'},
                        {data : 'from_time'},
                        {data : 'status'},
                        {data : 'approved_by_user_id'},
                        {data : 'created_at'},
                        {data : 'updated_at'},
                        {defaultContent: '<div class="d-flex justify-content-around"><button type="submit" class="btn btn-primary">Edit</button><button type="submit" class="btn btn-danger">Delete</button></div>'}
                    ]
                } );
            });
        });
    </script>
</body>
</html>